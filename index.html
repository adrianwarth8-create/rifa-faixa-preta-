<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Rifa Faixa Preta ü•ã</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      text-align: center;
      margin: 0;
      padding: 0;
    }

    header {
      background: #000;
      color: #fff;
      padding: 20px;
    }

    h1 {
      margin: 0;
    }

    .pix {
      background: #fff;
      margin: 20px auto;
      padding: 15px;
      max-width: 400px;
      border-radius: 8px;
      font-size: 18px;
    }

    .contador {
      font-size: 22px;
      margin: 20px;
      color: #d00000;
      font-weight: bold;
    }

    .numeros {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
      gap: 10px;
      max-width: 600px;
      margin: 20px auto;
    }

    .numero {
      padding: 15px;
      background: #2ecc71;
      color: #fff;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }

    .vendido {
      background: #e74c3c !important;
      cursor: not-allowed;
    }

    footer {
      margin: 30px;
      font-size: 14px;
      color: #555;
    }
  </style>
</head>

<body>

<header>
  <h1>üéüÔ∏è Rifa Faixa Preta ü•ã</h1>
  <p>Escolha seu n√∫mero da sorte</p>
</header>

<div class="pix">
  <strong>üí≥ Pagamento via Pix</strong><br>
  Chave Pix:<br>
  <b>55999929198</b>
</div>

<div class="contador" id="contador"></div>

<h2>N√∫meros dispon√≠veis</h2>

<div class="numeros" id="listaNumeros"></div>

<footer>
  Adquira seu n√∫mero pelo WhatsApp üì≤<br>
  <b>55 99992-9198</b>
</footer>

<script>
  const URL_SCRIPT = "https://script.google.com/macros/s/AKfycbzlvqEpyF5qt6MFjivFuTjWkGzQHQEHtBYCfkH926-v1YPjeqXQCzndQQe9OcmeXgaVyA/exec";
  const TOTAL_NUMEROS = 200;

  async function carregarNumerosVendidos() {
    const response = await fetch(URL_SCRIPT);
    const vendidos = await response.json();
    return vendidos.map(n => n.toString().padStart(3, '0'));
  }

  async function montarNumeros() {
    const vendidos = await carregarNumerosVendidos();
    const container = document.getElementById("listaNumeros");

    for (let i = 1; i <= TOTAL_NUMEROS; i++) {
      const numero = i.toString().padStart(3, '0');
      const div = document.createElement("div");
      div.classList.add("numero");
      div.textContent = numero;

      if (vendidos.includes(numero)) {
        div.classList.add("vendido");
      } else {
        div.onclick = () => {
          window.open(
            `https://wa.me/55999929198?text=Ol√°! Quero reservar o n√∫mero ${numero} da rifa ü•ã`,
            "_blank"
          );
        };
      }

      container.appendChild(div);
    }
  }

  function iniciarContador() {
    const dataSorteio = new Date("2026-02-01T20:00:00").getTime();

    setInterval(() => {
      const agora = new Date().getTime();
      const diff = dataSorteio - agora;

      if (diff <= 0) {
        document.getElementById("contador").innerHTML = "üéâ Sorteio hoje!";
        return;
      }

      const dias = Math.floor(diff / (1000 * 60 * 60 * 24));
      const horas = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutos = Math.floor((diff / (1000 * 60)) % 60);
      const segundos = Math.floor((diff / 1000) % 60);

      document.getElementById("contador").innerHTML =
        `‚è≥ Sorteio em ${dias}d ${horas}h ${minutos}m ${segundos}s`;
    }, 1000);
  }

  montarNumeros();
  iniciarContador();
</script>

</body>
</html>
