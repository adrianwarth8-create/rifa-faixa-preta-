<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Rifa Faixa Preta â€“ Adrian Silva Warth</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0b1c2d;
  color: #ffffff;
  text-align: center;
  padding: 20px;
}

h1 { color: #e63946; }
h2 { margin-top: 30px; }

.info {
  max-width: 800px;
  margin: auto;
  background: #1d3557;
  padding: 15px;
  border-radius: 10px;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
  gap: 8px;
  max-width: 1000px;
  margin: 20px auto;
}

.numero {
  padding: 12px 0;
  background: #457b9d;
  border-radius: 6px;
  cursor: pointer;
  font-weight: bold;
}

.numero:hover {
  background: #1d3557;
}

.vendido {
  background: #e63946 !important;
  cursor: not-allowed;
}

form {
  max-width: 400px;
  margin: 30px auto;
  background: #1d3557;
  padding: 20px;
  border-radius: 10px;
}

input, button {
  width: 100%;
  padding: 10px;
  margin: 8px 0;
  border-radius: 6px;
  border: none;
}

button {
  background: #e63946;
  color: white;
  font-weight: bold;
  cursor: pointer;
}

button:hover {
  background: #ff4d5a;
}

footer {
  margin-top: 40px;
  font-size: 14px;
  opacity: 0.8;
}
</style>
</head>

<body>

<h1>ğŸŸï¸ RIFA â€“ FAIXA PRETA TAEKWONDO ğŸ¥‹</h1>
<h2>Adrian Silva Warth</h2>

<div class="info">
  <p>ğŸ’° Valor por nÃºmero: <strong>R$ 5,00</strong></p>
  <p>ğŸ¯ Objetivo: Troca de faixa para a preta</p>
  <p>ğŸ“… Sorteio: <strong>25 de agosto Ã s 10h</strong> (Instagram)</p>
  <p>ğŸ’³ Pix: <strong>adrianwarth8@gmail.com</strong></p>
  <p>ğŸ“² Envie o comprovante: <strong>55 99992-9198</strong></p>
</div>

<h2>â³ Contagem regressiva</h2>
<p id="contador"></p>

<h2>ğŸ“Œ NÃºmeros da Rifa</h2>
<div class="grid" id="gridNumeros"></div>

<form onsubmit="reservarNumero(event)">
  <h2>ğŸ“² Reservar nÃºmero</h2>
  <input type="text" id="nome" placeholder="Seu nome" required>
  <input type="text" id="whatsapp" placeholder="WhatsApp" required>
  <input type="text" id="numero" placeholder="NÃºmero escolhido" readonly required>
  <button type="submit">Reservar nÃºmero</button>
</form>

<footer>
Boa sorte ğŸ€ | Rifa solidÃ¡ria â€“ Taekwondo
</footer>

<script>
const API = "https://script.google.com/macros/s/AKfycby5nKtfENKcVxHGIn0oRpK5Ebwq2ZsgmHZoOF0ss305pOVAEhJofFaVs9voKOZaplUGVQ/exec";

const grid = document.getElementById("gridNumeros");
const inputNumero = document.getElementById("numero");

// CRIA OS NÃšMEROS
function criarGrid(vendidos) {
  for (let i = 1; i <= 1000; i++) {
    const n = i.toString().padStart(3, "0");
    const div = document.createElement("div");
    div.className = "numero";
    div.innerText = n;

    if (vendidos.includes(n)) {
      div.classList.add("vendido");
    } else {
      div.onclick = () => inputNumero.value = n;
    }

    grid.appendChild(div);
  }
}

// BUSCA NÃšMEROS PAGOS
fetch(API)
  .then(res => res.json())
  .then(data => criarGrid(data))
  .catch(() => criarGrid([]));

// ENVIA RESERVA
function reservarNumero(e) {
  e.preventDefault();

  const nome = document.getElementById("nome").value;
  const whatsapp = document.getElementById("whatsapp").value;
  const numero = document.getElementById("numero").value;

  if (!numero) {
    alert("Escolha um nÃºmero primeiro!");
    return;
  }

  fetch(`${API}?nome=${encodeURIComponent(nome)}&whatsapp=${encodeURIComponent(whatsapp)}&numero=${numero}`);

  alert("NÃºmero reservado! Envie o Pix para confirmar.");
  window.location.href = "https://wa.me/55999929198";
}

// CONTADOR REGRESSIVO
const dataSorteio = new Date("2026-08-25T10:00:00").getTime();
setInterval(() => {
  const agora = new Date().getTime();
  const diff = dataSorteio - agora;

  const dias = Math.floor(diff / (1000 * 60 * 60 * 24));
  const horas = Math.floor((diff / (1000 * 60 * 60)) % 24);

  document.getElementById("contador").innerHTML =
    `${dias} dias e ${horas} horas restantes`;
}, 1000);
</script>

</body>
</html>
